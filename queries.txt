Create view class_attendance_view as SELECT
	class.class_id,
   class.class_date,
   class.class_time,
   class.class_name,
   class.class_location,
   SUM(attendance_status='P') as present,
   SUM(attendance_status='L') as late,
   SUM(attendance_status='A') as absent,
   class.class_module_id
FROM
class
JOIN
    attendance
WHERE attendance.attendance_class_id=class.class_id
GROUP BY
    attendance_class_id
ORDER BY
    class.class_date DESC;